{"remainingRequest":"D:\\mgc\\Teaching-Evaluation-System\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\mgc\\Teaching-Evaluation-System\\src\\pages\\Index.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\mgc\\Teaching-Evaluation-System\\src\\pages\\Index.vue","mtime":1721579830911},{"path":"D:\\mgc\\Teaching-Evaluation-System\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1721362019583},{"path":"D:\\mgc\\Teaching-Evaluation-System\\node_modules\\babel-loader\\lib\\index.js","mtime":1721362018315},{"path":"D:\\mgc\\Teaching-Evaluation-System\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1721362019583},{"path":"D:\\mgc\\Teaching-Evaluation-System\\node_modules\\vue-loader\\lib\\index.js","mtime":1721362018263}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQppbXBvcnQgUHJvZHVjdHNMaXN0IGZyb20gIi4uL2NvbXBvbmVudHMvcHJvZHVjdHNMaXN0LnZ1ZSI7DQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICJJbmRleCIsDQogIGNvbXBvbmVudHM6IHsgUHJvZHVjdHNMaXN0IH0sDQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIGlucHV0OiAiIiwNCiAgICAgIGlzZm9jdXM6IGZhbHNlLA0KICAgICAgYWxsQ29tbWVudHM6IFsNCiAgICAgICAgew0KICAgICAgICAgIHVzZXJuYW1lOiAiQUEiLA0KICAgICAgICAgIGNvbnRlbnQ6ICJHb29kISIsDQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICB1c2VybmFtZTogIkJCIiwNCiAgICAgICAgICBjb250ZW50OiAiR29vb29vb29vb29vb29vb29vb29vb29vb29vb29vb29vb29vb29vb29kISIsDQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICB1c2VybmFtZTogIkNDIiwNCiAgICAgICAgICBjb250ZW50OiAiR29vb29vb29vb29vb29vb29kISIsDQogICAgICAgIH0sDQogICAgICBdLA0KICAgICAgLy8g5piv5ZCm5bGV5byA5by55bmV5Yy6DQogICAgICBpc0V4cGFuZDogZmFsc2UsDQogICAgICAvLyDmmK/lkKbmn6XnnIvlhajpg6jllYblk4ENCiAgICAgIGlzU2hvd0FsbFByb2R1Y2U6IGZhbHNlLA0KICAgIH07DQogIH0sDQogIG1vdW50ZWQoKSB7DQogICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCB0aGlzLmhhbmRsZUNsaWNrT3V0c2lkZSk7DQogIH0sDQogIGJlZm9yZURlc3Ryb3koKSB7DQogICAgLy8g5Zyo57uE5Lu26ZSA5q+B5pe256e76Zmk5YWo5bGA54K55Ye75LqL5Lu255uR5ZCs5ZmoDQogICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigiY2xpY2siLCB0aGlzLmhhbmRsZUNsaWNrT3V0c2lkZSk7DQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICAvLyDmj5DkuqTlvLnluZXovpPlhaUNCiAgICBvbkNoYW5nZSgpIHsNCiAgICAgIGlmICh0aGlzLmlucHV0KSB7DQogICAgICAgIHRoaXMuYWxsQ29tbWVudHMucHVzaCh7DQogICAgICAgICAgdXNlcm5hbWU6ICJNZSIsDQogICAgICAgICAgY29udGVudDogdGhpcy5pbnB1dCwNCiAgICAgICAgfSk7DQogICAgICAgIHRoaXMuaW5wdXQgPSAiIjsNCiAgICAgICAgdGhpcy4kbmV4dFRpY2soKCkgPT4gew0KICAgICAgICAgIGNvbnN0IGNvbW1lbnRzID0gdGhpcy4kcmVmcy5jb21tZW50czsNCiAgICAgICAgICBjb21tZW50cy5zY3JvbGxUb3AgPSBjb21tZW50cy5zY3JvbGxIZWlnaHQ7DQogICAgICAgIH0pOw0KICAgICAgfQ0KICAgIH0sDQogICAgc2hvd0FsbFByb2R1Y3RzKGV2ZW50KSB7DQogICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTsgLy/pmLvmraLkuovku7blhpLms6Eu5LiN54S25Lya5Ye6546w44CQ54K55Ye7ZGl2MeWQju+8jGRpdjLmmL7npLrlh7rmnaXvvIzkvYbntKfmjqXnnYDlhajlsYDngrnlh7vkuovku7bnm5HlkKzlmajlj4jmo4DmtYvliLDngrnlh7vkuovku7bvvIzku47ogIznq4vljbPpmpDol4/kuoZkaXYy44CC44CRDQogICAgICB0aGlzLmlzU2hvd0FsbFByb2R1Y2UgPSB0cnVlOw0KICAgIH0sDQogICAgLy8g54K55Ye76Zmk5ZWG5ZOB5YiX6KGo5aSW55qE5Yy65Z+f77yM5Y+W5raI5YiX6KGo5bGV56S6DQogICAgaGFuZGxlQ2xpY2tPdXRzaWRlKGV2ZW50KSB7DQogICAgICBpZiAoDQogICAgICAgIHRoaXMuaXNTaG93QWxsUHJvZHVjZSAmJg0KICAgICAgICAhdGhpcy4kcmVmcy5wcm9kdWN0c0xpc3QuY29udGFpbnMoZXZlbnQudGFyZ2V0KQ0KICAgICAgKSB7DQogICAgICAgIHRoaXMuaXNTaG93QWxsUHJvZHVjZSA9IGZhbHNlOw0KICAgICAgfQ0KICAgIH0sDQogIH0sDQp9Ow0K"},{"version":3,"sources":["Index.vue"],"names":[],"mappings":";AAyJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Index.vue","sourceRoot":"src/pages","sourcesContent":["<template>\r\n  <div class=\"box\">\r\n    <!-- 头部 -->\r\n    <div class=\"header\">\r\n      <div class=\"header-left\">\r\n        <div class=\"avatar\">\r\n          <el-avatar :src=\"require('@/imgs/midea.jpg')\" :size=\"48\"></el-avatar>\r\n        </div>\r\n        <div class=\"name\">\r\n          <div>\r\n            <div class=\"title\">Midea</div>\r\n            <div class=\"fans\">150万关注</div>\r\n          </div>\r\n        </div>\r\n        <div class=\"follow-btn\">\r\n          <el-button\r\n            type=\"primary\"\r\n            round\r\n            size=\"small\"\r\n            v-if=\"!isfocus\"\r\n            @click=\"isfocus = !isfocus\"\r\n            >关注</el-button\r\n          >\r\n          <el-button type=\"primary\" round size=\"small\" v-else disabled\r\n            >已关注</el-button\r\n          >\r\n        </div>\r\n      </div>\r\n      <div class=\"header-right\">\r\n        <div class=\"eyes\"><i class=\"el-icon-view\"></i> 120k</div>\r\n        <div class=\"live\">直播</div>\r\n      </div>\r\n    </div>\r\n    <!-- 直播区 -->\r\n    <div class=\"main\"></div>\r\n    <!-- 商品信息 -->\r\n    <div v-if=\"!isShowAllProduce\">\r\n      <div v-if=\"!isExpand\" class=\"noExpandProduct\">\r\n        <!-- 未展开 -->\r\n        <div class=\"proImg\"></div>\r\n        <div class=\"proDesc\">\r\n          【赤炎稻香】IH智能电饭煲 4L 立体双热源 全域零涂层 MB-HS453S 雅士金\r\n        </div>\r\n        <div class=\"proBtns\">\r\n          <el-button\r\n            type=\"primary\"\r\n            icon=\"icon iconfont icon-zan\"\r\n            size=\"small\"\r\n          ></el-button>\r\n          <el-button\r\n            type=\"primary\"\r\n            icon=\"el-icon-s-goods\"\r\n            size=\"small\"\r\n          ></el-button>\r\n        </div>\r\n      </div>\r\n      <div v-else class=\"expandProduct-box\">\r\n        <!-- 展开 -->\r\n        <div class=\"expandProduct\">\r\n          <div class=\"pro-left\">\r\n            <div class=\"proImg\"></div>\r\n            <div class=\"proBtns\">\r\n              <el-button\r\n                type=\"primary\"\r\n                icon=\"icon iconfont icon-zan\"\r\n                size=\"small\"\r\n              ></el-button>\r\n              <el-button\r\n                type=\"primary\"\r\n                icon=\"el-icon-s-goods\"\r\n                size=\"small\"\r\n              ></el-button>\r\n            </div>\r\n          </div>\r\n          <div class=\"proDesc\">\r\n            【赤炎稻香】IH智能电饭煲 4L 立体双热源 全域零涂层 MB-HS453S 雅士金\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div v-if=\"!isShowAllProduce\" class=\"footer\">\r\n      <!-- 弹幕区 -->\r\n      <div class=\"comment-box\">\r\n        <div class=\"pointMe\">\r\n          <el-button type=\"primary\" size=\"mini\">@我的</el-button>\r\n        </div>\r\n        <div class=\"up\" v-if=\"!isExpand\">\r\n          <el-button type=\"primary\" @click=\"isExpand = !isExpand\"\r\n            ><i class=\"el-icon-arrow-up\"></i\r\n          ></el-button>\r\n        </div>\r\n        <div class=\"down\" v-else>\r\n          <el-button type=\"primary\" @click=\"isExpand = !isExpand\"\r\n            ><i class=\"el-icon-arrow-down\"></i\r\n          ></el-button>\r\n        </div>\r\n        <div\r\n          class=\"comments\"\r\n          ref=\"comments\"\r\n          :class=\"isExpand ? 'expand' : 'noExpand'\"\r\n        >\r\n          <div\r\n            class=\"comment\"\r\n            v-for=\"(comment, index) in allComments\"\r\n            :key=\"index\"\r\n          >\r\n            <div class=\"comment-left\">\r\n              <el-avatar\r\n                src=\"https://cube.elemecdn.com/3/7c/3ea6beec64369c2642b92c6726f1epng.png\"\r\n                :size=\"30\"\r\n              ></el-avatar>\r\n            </div>\r\n            <div class=\"comment-right\">\r\n              <div class=\"comment-username\">{{ comment.username }}</div>\r\n              <div class=\"comment-info\">{{ comment.content }}</div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- 底部输入区 -->\r\n      <div class=\"actions\">\r\n        <div class=\"input\">\r\n          <el-input\r\n            v-model=\"input\"\r\n            placeholder=\"请输入内容...\"\r\n            @change=\"onChange\"\r\n          >\r\n          </el-input>\r\n        </div>\r\n        <el-button\r\n          type=\"primary\"\r\n          icon=\"el-icon-shopping-cart-2\"\r\n          circle\r\n        ></el-button>\r\n        <el-button\r\n          type=\"primary\"\r\n          icon=\"el-icon-s-goods\"\r\n          circle\r\n          @click=\"showAllProducts\"\r\n        ></el-button>\r\n        <el-button type=\"primary\" icon=\"el-icon-more\" circle></el-button>\r\n      </div>\r\n    </div>\r\n    <!-- 商品详情 -->\r\n    <div v-else ref=\"productsList\">\r\n      <products-list></products-list>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport ProductsList from \"../components/productsList.vue\";\r\nexport default {\r\n  name: \"Index\",\r\n  components: { ProductsList },\r\n  data() {\r\n    return {\r\n      input: \"\",\r\n      isfocus: false,\r\n      allComments: [\r\n        {\r\n          username: \"AA\",\r\n          content: \"Good!\",\r\n        },\r\n        {\r\n          username: \"BB\",\r\n          content: \"Gooooooooooooooooooooooooooooooooooooooood!\",\r\n        },\r\n        {\r\n          username: \"CC\",\r\n          content: \"Gooooooooooooooood!\",\r\n        },\r\n      ],\r\n      // 是否展开弹幕区\r\n      isExpand: false,\r\n      // 是否查看全部商品\r\n      isShowAllProduce: false,\r\n    };\r\n  },\r\n  mounted() {\r\n    document.addEventListener(\"click\", this.handleClickOutside);\r\n  },\r\n  beforeDestroy() {\r\n    // 在组件销毁时移除全局点击事件监听器\r\n    document.removeEventListener(\"click\", this.handleClickOutside);\r\n  },\r\n  methods: {\r\n    // 提交弹幕输入\r\n    onChange() {\r\n      if (this.input) {\r\n        this.allComments.push({\r\n          username: \"Me\",\r\n          content: this.input,\r\n        });\r\n        this.input = \"\";\r\n        this.$nextTick(() => {\r\n          const comments = this.$refs.comments;\r\n          comments.scrollTop = comments.scrollHeight;\r\n        });\r\n      }\r\n    },\r\n    showAllProducts(event) {\r\n      event.stopPropagation(); //阻止事件冒泡.不然会出现【点击div1后，div2显示出来，但紧接着全局点击事件监听器又检测到点击事件，从而立即隐藏了div2。】\r\n      this.isShowAllProduce = true;\r\n    },\r\n    // 点击除商品列表外的区域，取消列表展示\r\n    handleClickOutside(event) {\r\n      if (\r\n        this.isShowAllProduce &&\r\n        !this.$refs.productsList.contains(event.target)\r\n      ) {\r\n        this.isShowAllProduce = false;\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.box {\r\n  position: relative;\r\n  .header {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    height: 80px;\r\n    width: 100%;\r\n    .header-left {\r\n      display: flex;\r\n      align-items: center;\r\n      width: 60%;\r\n      .avatar {\r\n        width: 70px;\r\n        display: flex;\r\n        justify-content: center;\r\n      }\r\n      .name {\r\n        flex: 1;\r\n        .title {\r\n          font-size: 18px;\r\n        }\r\n        .fans {\r\n          font-size: 14px;\r\n          color: rgba(255, 255, 255, 0.8);\r\n        }\r\n      }\r\n      .follow-btn {\r\n      }\r\n    }\r\n    .header-right {\r\n      display: flex;\r\n      align-items: center;\r\n      height: 40px;\r\n      width: 35%;\r\n      background-color: rgba(155, 165, 175, 0.7);\r\n      border-radius: 20px;\r\n      .eyes {\r\n        flex: 1;\r\n        display: flex;\r\n        justify-content: center;\r\n        align-items: center;\r\n      }\r\n      .live {\r\n        width: 40%;\r\n        height: 26px;\r\n        margin-right: 10px;\r\n        display: flex;\r\n        justify-content: center;\r\n        align-items: center;\r\n        border-radius: 13px;\r\n        background-color: red;\r\n      }\r\n    }\r\n  }\r\n  .main {\r\n    width: 100%;\r\n    height: 100vh;\r\n    background-image: url(\"~@/imgs/2.jpg\");\r\n    background-size: cover;\r\n    background-position: center;\r\n    background-repeat: no-repeat;\r\n  }\r\n  .expandProduct-box {\r\n    position: absolute;\r\n    top: 80px;\r\n    left: 0;\r\n    width: 100%;\r\n    padding: 10px;\r\n    box-sizing: border-box;\r\n  }\r\n  .expandProduct {\r\n    display: flex;\r\n    background-color: rgba(95, 97, 99, 0.7);\r\n    border-radius: 14px;\r\n    padding: 10px;\r\n\r\n    .pro-left {\r\n      margin-right: 10px;\r\n      .proImg {\r\n        width: 260px;\r\n        height: 140px;\r\n        background-image: url(\"~@/imgs/4.jpg\");\r\n        background-size: cover;\r\n        background-position: center;\r\n        background-repeat: no-repeat;\r\n      }\r\n      .proBtns {\r\n        display: flex;\r\n        margin-top: 10px;\r\n        .el-button {\r\n          flex: 1;\r\n        }\r\n      }\r\n    }\r\n    .proDesc {\r\n      flex: 1;\r\n      // color: black;\r\n      // background-color: #fff;\r\n      overflow: hidden;\r\n      display: -webkit-box;\r\n      -webkit-line-clamp: 7; /* 显示的行数 */\r\n      -webkit-box-orient: vertical;\r\n      text-overflow: ellipsis;\r\n    }\r\n  }\r\n  .noExpandProduct {\r\n    position: absolute;\r\n    top: 100px;\r\n    left: 0;\r\n    width: 120px;\r\n    .proImg {\r\n      width: 120px;\r\n      height: 120px;\r\n      background-image: url(\"~@/imgs/4.jpg\");\r\n      background-size: cover;\r\n      background-position: center;\r\n      background-repeat: no-repeat;\r\n    }\r\n    .proDesc {\r\n      height: 40px;\r\n      font-size: 14px;\r\n      color: black;\r\n      background-color: #fff;\r\n      overflow: hidden;\r\n      display: -webkit-box;\r\n      -webkit-line-clamp: 2; /* 显示的行数 */\r\n      -webkit-box-orient: vertical;\r\n      text-overflow: ellipsis;\r\n    }\r\n    .proBtns {\r\n      display: flex;\r\n      justify-content: space-around;\r\n      .el-button {\r\n        flex: 1;\r\n        margin: 0;\r\n        border-radius: 0;\r\n      }\r\n      ::v-deep .iconfont {\r\n        font-size: 20px;\r\n      }\r\n      ::v-deep .el-icon-s-goods {\r\n        font-size: 20px;\r\n      }\r\n    }\r\n  }\r\n  .footer {\r\n    position: absolute;\r\n    bottom: 0;\r\n    left: 0;\r\n    width: 100%;\r\n    padding: 10px;\r\n    box-sizing: border-box;\r\n\r\n    .comment-box {\r\n      background-color: rgba(0, 0, 0, 0.5);\r\n      border-radius: 10px;\r\n      margin-bottom: 10px;\r\n      .pointMe {\r\n        position: absolute;\r\n        top: 18px;\r\n        right: 20px;\r\n      }\r\n      .up,\r\n      .down {\r\n        .el-button {\r\n          background-color: transparent;\r\n          width: 100%;\r\n          padding: 0;\r\n          border: 0;\r\n        }\r\n      }\r\n      .noExpand {\r\n        height: 220px;\r\n      }\r\n      .expand {\r\n        height: 500px;\r\n      }\r\n      .comments {\r\n        overflow-y: auto; /* 垂直方向自动滚动 */\r\n        overflow-x: hidden; /* 水平方向隐藏滚动条 */\r\n\r\n        .comment {\r\n          display: flex;\r\n          width: fit-content;\r\n          max-width: 100%;\r\n          word-break: break-all;\r\n          margin-bottom: 10px;\r\n          padding: 4px 6px;\r\n          // background-color: rgba(111, 114, 117, 0.6);\r\n          border-radius: 14px;\r\n          .comment-left {\r\n            margin-right: 8px;\r\n          }\r\n          .comment-right {\r\n            .comment-info {\r\n              color: rgba(255, 255, 255, 0.9);\r\n              font-size: 14px;\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    .actions {\r\n      display: flex;\r\n      align-items: center;\r\n      justify-content: space-around;\r\n      .input {\r\n        margin-right: 10px;\r\n      }\r\n      ::v-deep .el-input__inner {\r\n        border-radius: 20px;\r\n        background-color: rgba(0, 0, 0, 0.5);\r\n\r\n        border: 0;\r\n        color: #fff;\r\n      }\r\n      ::v-deep .el-input__inner::placeholder {\r\n        color: #fff;\r\n      }\r\n      ::v-deep .el-button--primary {\r\n        background-color: rgba(0, 0, 0, 0.5);\r\n\r\n        border: 0;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n"]}]}